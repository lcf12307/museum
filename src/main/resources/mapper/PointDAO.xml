<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace = "com.crtvu.dao.PointDAO">

    <insert id = "insertPoint">
        INSERT INTO museum.point (name, mid, year, point, type)
        VALUES (#{name},#{mid},#{year},#{point},#{type})
    </insert>

    <delete id = "deletePoint">
        DELETE
        FROM point
        WHERE id = #{id}
    </delete>

    <delete id = "deletePointByName">
        DELETE
        FROM point
        WHERE name = #{name}
    </delete>

    <delete id = "deletePointByNameAndYear">
        DELETE
        FROM point
        WHERE name = #{name} and year = #{year}
    </delete>

    <update id = "updatePoint">
        UPDATE point
        SET point = #{point}
        WHERE id = #{id}
    </update>

    <select id = "selectPoint" resultType = "PointEntity">
        SELECT *
        FROM point
        WHERE id = #{id}
    </select>

    <select id="selectPointByName" resultType="PointEntity">
        SELECT *
        FROM point
        Where name = #{name} and mid = #{mid} and year = #{year}
    </select>

    <select id="selectPointByMid" resultType="PointEntity">
        SELECT *
        FROM point
        Where mid = #{mid} and year = #{year}
    </select>

    <select id="selectPointByType" resultType="PointEntity">
        SELECT *
        FROM point
        Where mid = #{mid} and year = #{year} and type = #{type}
    </select>

    <select id="hasPointed" resultType="int">
        SELECT COUNT(*)
        FROM point
        Where name = #{name}
    </select>

</mapper>